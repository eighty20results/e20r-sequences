{
  "name" : "PMPro Sequences",
  "slug" : "pmpro-sequences",
  "download_url" : "https://eighty20results.com/protected-content/pmpro-sequences/pmpro-sequences-3.0-beta-11.zip",
  "version" : "3.0-beta-11",
  "tested": "4.3.1",
  "requires": "4.0",
  "author" : "Thomas Sjolshagen <thomas@eighty20results.com>",
  "author_homepage": "https://eighty20results.com/thomas-sjolshagen",
  "last_updated": "2015-10-21 20:26:00",
  "homepage": "https://eighty20results.com/plugins/pmpro-sequences",
  "sections" : {
    "description" : "Create a drip feed 'Sequence' which are groups of posts/pages/CPTs where the content is revealed to members over time. This is a replacement for the 'drip feed content' module for Paid Memberships Pro (pmpro-series).<hr/><p>This plugin currently requires Paid Memberships Pro and started life as a complete rip-off of the pmpro_series lugin from strangerstudios. I needed a drip-content plugin that supported different delay type options, paginated lists of series posts, a way to let a user see an excerpt of the page/post, support a user defined custom post type,etc.</p><p>Added a features that weren't included in pmpro_series, specifically the ability to:<ol><li>Configure the sort order for the series/sequence</li><li>Show/hide upcoming series/sequence posts</li><li>Show/hide 'You are on day XXX of your membership' notice</li><li>Show 'delay time' as 'days since membership started' or calendar date to end user.</li><li>Admin defined schedule (using WP-Cron) for new content alert emails to users.</li><li>User opt-in for receiving email alerts</li><li>Templated email alerts for new content</li><li>Pagination of sequence lists in sequence page</li><li>[sequence_list] shortcode for paginated sequence list</li><li>Widget containing summary (excerpt) of most recent post in a sequence [***] for the logged in user.</li><li>Allows 'sneak preview' of upcoming posts in the sequence</li><li>A settings metabox to simplify configuration (rather than only use filters)</li><li>Filters to let the admin specify the types of posts/pages to include in a sequence, etc.",
    "changelog": "<h2>Change Log</h2><p><strong>Please note</strong> that version 3.0 represents a complete re-write of this plug-in. DO NOT deploy this version (v3.0-beta) on live sites or production sites as the conversion may not be successful in all instances. I will remove the 'beta' tag once I am more confident these changes do not harm your sequences.</p><p>Click <a href='https://eighty20results.com/protected-content/pmpro-sequences/pmpro-sequences-2.4.14.zip'>here</a> to download the v2 based plugin.</p><h3>3.0-beta-11</h3><ol><li>Update version number and change log</li><li>find_by_id() would sometimes load unneeded posts (and not honor cache)</li><li>When loading a specific post_id for the sequence, don't ignore drafts (May cause duplication in DB)</li><li>Fix typo in debug output for remove_post()</li><li>Log the specific post being removed from the post list in remove_post()</li><li>Only overwrite belongs_to array if the array is empty first</li><li>Include sequence ID when loading the sequence specific meta data for $post_id in rm_sequence_from_post() callback function</li><li>Update translations</li><li>Update text in email opt-in checkbox</li></ol><h3>3.0-beta-10</h3><ol><li>Add all_sequences() static function</li><li>Add post_details() static function</li><li>Update change log & version numbers</li><li>Allow calling PMProSequence::sequences_for_post() to return array of sequence IDs for the post_id specified</li><li>Add static function to fetch all sequence IDs that a post_id is associated with</li></ol><h3>3.0-beta-8</h3><ol><li>Didn't always set the optin_at timestamp correctly in the default user alert settings</li><li>Removed redundant option management</li><li>Don't show a checkmark if the user has opted-out of receiving alert notices/emails</li><li>Fixed typo in send_notices variable for the opt-in callback</li><li>Prevent user from being overwhelmed by old alert messages when opting back in</li><li>Didn't always handle situations where the alert notice timestamp for a user was reset</li><li>Use post->id and the normalized delay value for the notified flag in user alert settings</li><li>Allowed saving of user alert settings when there was no sequence ID specified</li><li>Force load (refresh cache) of sequence members on start of convert_alert_setting()</li><li>Fix fix_user_alert_settings() so it correctly identified valid & invalid alert notices.</li><li>Refactor load of metadata version matrix</li><li>Add check of validity of post cache</li><li>Use cached data to locate specific post ID in find_by_id (faster loop rather than DB lookup)</li><li>Add debug for load_sequence_post() variables</li><li>Refactor load_sequence_post()</li><li>Improve search for delay values (correctly identify date or numeric format)</li><li>Load options rather than posts & options in load_sequence_meta()</li><li>Refactor get_sequences_for_post()</li><li>Remove impossible option load in sort_posts_by_delay()</li><li>Refactor function order in class</li><li>Use normalized delay values in convert_alert_setting()</li><li>Add function to fix user alert settings</li><li>Add function ro remove old user alert settings</li><li>Fix is_after_opt_in() to support new user alert setting format</li></ol><h3>3.0-beta-7</h3><ol><li>Wouldn't always honor the refresh value when loading the sequence</li><li>Refactor conversion for user's new-post notice settings</li><li>Clean up erroneous notification settings for user</li><li>Didn't save the 'Allow email notification' setting</li></ol><h3>3.0-beta-6</h3><ol><li>Primarily convert to V3 as part of plugin activation or if the user attempts to load the sequence.</li><li>Would sometimes get into a load/convert loop Flag conversion attempt as 'forced' if no posts are found with V3 format and the sequence is NOT previously converted.</li><li>Add padding to opt-in checkbox</li><li>Could loop indefinitely during conversion of user opt-in settings for certain users.</li><li>Would sometimes hide the opt-in check-box</li><li>Don't print settings to debug log.</li><li>New and empty sequences would incorrectly be flagged as needing conversion.</li><li>Updated translations (Norwegian & English/US)</li></ol><h3>3.0-beta-5</h3><ol><li>Fix error handling in add post to sequence operation</li><li>Add class function to configure & time out error message in /wp-admin/</li><li>Fix $_POST variables in add_entry()</li><li>Clean up error & success functions for jQuery.ajax() call in add_entry()</li><li>Handle error messages returned from back-end</li><li>Correct warning for (future) Google Analytics ID variable in configuration</li><li>Rename (make consistent) filter for the type of posts that can be managed by this plugin</li><li>is_present() will loop through the $this->posts array looking for the post_id & delay value specified. Returns false if not found & the array key value if found.</li><li>Ensure the error <div> is present in the sequence metabox</li><li>Remove 'draft' as a valide default post status to list.</li><li>Clean up variable names in $_POST for the add operation</li><li>Return error message/warning to back-end if post_id/delay combination is present in system.</li><li>Refactor add_post_callback()</li></ol><h3>3.0-beta-4</h3><ol><li>Update the TODO section in README.txt</li><li>Clean up TODO items class.PMProSequence.php</li><li>Would loop indefinitely if there were no sequence posts and the sequence was attempted viewed from the front-end.</li><li>Allow users with admin privileges to have access to any sequence & posts.</li><li>Didn't always save the opt-in settings for the user(s).</li><li>Typo in opt-in setting.</li><li>Force user id when looking for closest post.</li><li>Didn't always allow administrators to see posts in sequence</li><li>Correctly sanitize date values as delays</li><li>Re-enable the wipe functionality when changing the type of sequence from day # based to date based (or vice versa)</li></ol><h3>3.0-beta-3</h3><ol><li>Renamed 'Add' button to 'New Sequence'</li><li>Would sometimes add an extra sequence/delay input field when the 'Add' button was clicked in edit.php</li></ol><h3>3.0-beta-2</h3><ol><li>Track conversion to v3 metadata based on sequence ID in options table</li><li>If option value isn't configured, double-check that the V3 metadata isn't there in is_converted()</li><li>Reduce the number of error messages on back-end</li><li>Wouldn't always reload posts when changing sequence ID to manage</li><li>Load delay type for each sequence to front-end (JavaScript)</li><li>Add test for old-style metadata use if a sequence is found to be empty.</li><li>Convert if needed. Warn admin/editor/user if a sequence hasn't been converted yet.</li><li>Didn't always save the sequence ID when a post was added to a new sequence in edit.php</li><li>Removed redundant saving of sequence ID for a post_id during add_post()</li><li>Load all instances of a sequence/delay combination in edit.php</li><li>Refactor edit.php metabox rendering</li><li>Avoid warning message when no posts are found in get_delay_for_post()</li><li>Remove unused code paths</li><li>Simplify addition of new sequence/delay values to a post in edit.php</li><li>No longer calling back-end when adding new sequence ID to post/page in edit.php</li><li>Simplify removal of sequence/delay pair from a post in edit.php</li><li>Support removing one of multiple sequence entries from a post/page in edit.php</li></ol><h3>3.0-beta-1</h3><ol><li>Check whether V3 postmeta is the current format on admin_init.</li><li>Skip sending notices for sequences that haven't been converted yet.</li><li>Add error message if the meta data for the sequence members isn't in V3 format.</li><li>Ensure all posts in the sequence gets loaded when an admin/editor is processing the sequence CPT.</li><li>Correctly identify sequence members that haven't been converted to V3 format yet.</li><li>Add consistent error check (and error message) for init() of sequences</li><li>Fix issue where type of edit operation in sequence editor window wasn't working.</li><li>Didn't always save the repeat post setting for the sequence</li><li>Add conversion to V3 post meta_data to activate() function</li><li>Didn't always set the checkbox value for the sequence settings</li><li>Differentiate between cron processing and normal (admin) processing</li><li>Didn't always correctly indicate the most current post for the requested user_id</li><li>Simplify cache check for $this->posts content</li><li>Avoid perma-loop while in post loop</li><li>Would sometimes add posts the user_id didn't actually have access to yet</li><li>Removed duplicate processing for delay values.</li><li>Didn't correctly convert user alert (notice) settings to V3 format</li><li>Fixes to help user notice processing handle new v3 formats (and simplify post processing)</li><li>Consistently use post_id + post_delay values for alert keys</li><li>Adds support for multiple delay values for a single post_ID within the same sequence (i.e. repeating posts without duplication of content).</li><li>Add support for 'upcoming' specific post array</li><li>Record metadata as individual post entries (simplifies search/load of sequence info)</li><li>Renamed all active functions to 'WordPress friendly' naming (i.e. lower case and underscores)</li><li>Started work to allow tracking using google analytics. (Possible future feature, ETA is TBD if at all)</li><li>Simplify loading of sequence member post(s).</li><li>Simplified post/sequence member lookup.</li><li>Commented out duplicate or unnecessary code</li><li>Removed some unneeded code.</li><li>Updated path to login page in a template</li><li>Support V3 functions & post management</li><li>Use new user notification settings (per sequence rather than global)</li><li>Use new debug logger function</li><li>Renamed Debug logging function</li><li>Use new user notification settings (per sequence rather than global)</li><li>Support V3 functions & post management</li><li>Would generate undefined variable error in certain situations</li><li>Remove superfluous load of font-awesome css file</li><li>Use FontAwesome for admin page icon(s)</li><li>Fix getPostKey() function to support post_id/delay combinations (for repeating post IDs in sequence)</li><li>Add debug output for get_users_of_sequence() function</li><li>Fix convertNotification() function (works)</li></ol><h3>2.4.15</h3><ol><li>Set allowRepeatPosts default to false</li><li>Add $delay to javascript entries for edit/remove post entries in sequence</li><li>Add allowRepeatPosts setting to sequence settings metabox</li><li>Fix typo in allowRepeatPosts setting</li><li>Refactor getting the sequence users for a sequence to its own private function (get_users_of_sequence())</li><li>Add convertNotifications() function to convert post notification settings for all users/sequences to new post_id & delay format</li><li>Use get_users_of_sequence() in removeNotifiedFlagForPost()</li><li>Add $delay value to add/remove callbacks for</li><li>Make PMPro dependency error message translatable</li><li>Make sure settings for hiding any future sequence posts get saved</li><li>Add convertNotifications() to activation hook</li><li>Fix edit/remove/add posts to sequence in back-end scripts</li><li>Add short code - &#91;sequence_opt_in sequence=<sequence_post_id>&#93; - for the Alert/Notification email opt-in (user managed).</li><li>Simplify has_membership_access_filter() (Thanks to Jessica Oros @ PMPro)</li></ol><h3>2.4.14</h3><ol><li>Removed CR+LF (\n) from sendEmail()</li></ol><h3>2.4.13</h3><ol><li>Added 'pmpro-sequence-add-startdate-offset' filter which will allow the admin to add an offset (pos/neg integer) to the 'current day' calculation. This modifies when the current user apparently started their access to the sequence. The filter expects a numeric value to be returned.</li></ol><h3>2.4.12</h3><ol><li>Update docs for pmpro_has_membership_access_filter()</li><li>Apply new 'pmpro-sequence-has-access-filter' filter to result from $this->hasAccess() in has_membership_access_filter() function</li><li>Increase priority of has_membership_access_filter() function in pmpro_has_membership_access_filter.</li></ol><h3>2.4.10</h3><ol><li>Remove redundant footer-like text</li><li>Remove \n for replaceable text</li></ol><h3>2.4.9</h3><ol><li>Fix 'Drip Feed Settings' metabox actions/events.</li><li>We should _enable_ not _disable_ a disabled row.</li></ol><h3>2.4.8</h3><ol><li>Reload content of sequence list select in post/page metabox</li></ol><h3>2.4.7</h3><ol><li>Instantiate $class variable</li></ol><h3>2.4.6</h3><ol><li>Instantiate $class variable within bind_controls() function.</li><li>Handle meta control display when adding/editing supported posts/pages.</li></ol><h3>2.4.5</h3><ol><li>Fix excerpt, post_link and post title (ptitle) handling for pmproemail class.</li><li>Remove pmpro_after_phpmailer_init filter/handler.</li></ol><h3>2.4.4</h3><ol><li>Edit license text (copyright)</li></ol><h3>2.4.3</h3><ol><li>Updated translations</li></ol><h3>2.4.2</h3><ol><li>Init the update checker on plugin load</li><li>Correct path to update check functionality</li></ol><h3>2.4.1</h3><ol><li>Fix settings text for previews</li><li>Adjust new change log creation script for this plugin</li></ol><h3>2.4</h3><ol><li>Refactor for two classes & member functions.</li><li>Make settings updates more uniform w/o breaking compatibility with back-end.</li><li>Remove old function/event structure.</li><li>Refactor settings metabox to improve UI experience.</li><li>Add support for sending alerts as digests or as individual messages.</li><li>Updated text</li><li>Transition away from PHP4 constructors</li></ol><h3>2.3</h3><ol><li>Added support for Wordpress update</li><li>Fix path to plugin debug log</li></ol><h3>2.2.4</h3><ol><li>Didn't always send notifications when using date based delays.</li><li>New notification email template example (VPT Reminder)</li><ol><h3>2.2.3<h3><ol><li>Create default user notice settings</li></ol>",
    "faq": "<h3>I found a bug in the plugin.</h3>Please post it in the issues section of GitHub and we'll fix it as soon as we can. Thanks for helping. https://github.com/eighty20results/pmpro-sequence/issuesOr you can email support@eighty20results.zendesk.com <h3>Do you have any filter/hook documentation</h3>Yes we do. Just jump over to the plugin page for the full list of hooks/filters available in this plugin."
  }
}